"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5883],{8727:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>m,frontMatter:()=>a,metadata:()=>i,toc:()=>d});var o=r(4848),t=r(8453);const a={title:"\ud83d\udca5 Error management"},s="Error Management",i={id:"error-management/index",title:"\ud83d\udca5 Error management",description:"When DynamoDB-Toolbox encounters an unexpected input, it throws an instance of DynamoDBToolboxError, which itself extends the native Error class with a code property:",source:"@site/versioned_docs/version-v1/5-error-management/index.md",sourceDirName:"5-error-management",slug:"/error-management/",permalink:"/docs/v1/error-management/",draft:!1,unlisted:!1,tags:[],version:"v1",frontMatter:{title:"\ud83d\udca5 Error management"},sidebar:"tutorialSidebar",previous:{title:"jsonStringify",permalink:"/docs/v1/schemas/transformers/json-stringify"},next:{title:"\u2b06 Migration Guide",permalink:"/docs/v1/migration-guide/"}},c={},d=[];function l(e){const n={code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"error-management",children:"Error Management"})}),"\n",(0,o.jsxs)(n.p,{children:["When DynamoDB-Toolbox encounters an unexpected input, it throws an instance of ",(0,o.jsx)(n.code,{children:"DynamoDBToolboxError"}),", which itself extends the native ",(0,o.jsx)(n.code,{children:"Error"})," class with a ",(0,o.jsx)(n.code,{children:"code"})," property:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"await PokemonEntity\n  .build(PutItemCommand)\n  .item({ ..., level: 'not a number' })\n  .send();\n// \u274c [parsing.invalidAttributeInput] Attribute 'level' should be a number\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Some ",(0,o.jsx)(n.code,{children:"DynamoDBToolboxErrors"})," also expose a ",(0,o.jsx)(n.code,{children:"path"})," property (mostly in validations) and/or a ",(0,o.jsx)(n.code,{children:"payload"})," property for additional context."]}),"\n",(0,o.jsxs)(n.p,{children:["If you need to handle them, TypeScript is your best friend, as the ",(0,o.jsx)(n.code,{children:"code"})," property correctly distinguish the ",(0,o.jsx)(n.code,{children:"DynamoDBToolboxError"})," type:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"import { DynamoDBToolboxError } from 'dynamodb-toolbox';\n\nconst handleError = (error: Error) => {\n  if (!error instanceof DynamoDBToolboxError) throw error;\n\n  switch (error.code) {\n    case 'parsing.invalidAttributeInput':\n      const path = error.path;\n      // => \"level\"\n      const payload = error.payload;\n      // => { received: \"not a number\", expected: \"number\" }\n      break;\n      ...\n    case 'entity.invalidItemSchema':\n      const path = error.path; // \u274c error does not have path property\n      const payload = error.payload; // \u274c same goes with payload\n      ...\n  }\n};\n"})})]})}function m(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>i});var o=r(6540);const t={},a=o.createContext(t);function s(e){const n=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),o.createElement(a.Provider,{value:n},e.children)}}}]);